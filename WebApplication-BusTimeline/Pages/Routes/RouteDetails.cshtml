@page
@model WebApplication_BusTimeline.Pages.Routes.RouteDetailsModel
@{
}

<div class="row">
	<div class="col-md-7">
		@if (Model.Route != null)
		{
			<div class="mb-2" style="width:600px">
				<div class="row">
					<h4><span>Dodajte novu stanicu na rutu: </span> <span class="fw-bold">@Model.Route.Name</span></h4>
				</div>
			</div >
		}

<div>
	<form method="post" onsubmit="OnPostNewStanica()">
			<div class="mb-1">
			Stanica:

					<select id="SelStanicaId" asp-for="SelStanicaId"  required asp-items="@Model.StanicaList" style="margin-left:100px;">
				<option value="" disabled selected>Izaberite stanicu</option>

			</select>
		</div>

			<div class="mb-1">
			Pozicija stanice:

					<select id="SelPozicijaId" asp-for="SelPozicijaId" required style="margin-left:45px;">
				<option value="1">Prva stanica</option>
				<option value="2">Pre izabrane stanice</option>
				<option value="3">Posle izabrane stanice</option>
				<option value="4">Poslednja stanica</option>
		</select  >
			</div>

			<div class="mb-1">
					Minuta od prethodne: <input type="number" required min="0" asp-for="TimeInterval" />
		</div>
			<div class="mb-2">
					Metara od prethodne: <input type="number" required min="0" asp-for="MetarDistance" />
		</div>

				<div style="text-align: center;" class="col-md-7" >
					<div class="mb-3">
						<button type="submit" value="Dodaj" style="text-align:center; background-color:#cfe2ff ">Dodaj</button>
					</div>
				
		</div>
			

		<input type="hidden" id="RouteId" asp-for="RouteId" value="@Model?.Route?.Id"/>

	</form>

</div>
	
	<div class="col-md-7">
		<div class="mb-3">
			<h4>Stanice na liniji:</h4>
		</div>
			
		<div class="row" >
			<div class="row-col-4">
				<div class="mb-3">
		@if (Model.RouteStops != null)
		{
			<table class="table">
				<thead class="table-primary">
					<tr>
						
						<th></th>
						<th></th>
						<th style="text-align:center">Redni broj</th>
						<th style="text-align:center">Stanica</th>
					</tr>
				</thead>
				<tbody>
					@foreach (var s in Model.RouteStops)
					{
										
						<tr class="@(s.Rbr.ToString() == Model.SelectRbr ? "table-primary" : "table-secondary")">													
							<td style="text-align:center">
								<a href=@($"https://localhost:7292/Routes/RouteDetails?routeId={Model.Route.Id}&StanicaRbr={s.Rbr}")>
									<button class="btn btn-primary" style="background-color:white; width:40px; height:40px; display: flex; align-items: center; justify-content: center;">
										<svg fill="#000000" width="115px" height="115px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M20 2H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm-6.933 12.481-3.274-3.274 1.414-1.414 1.726 1.726 4.299-5.159 1.537 1.281-5.702 6.84z"></path><path d="M4 22h11v-2H4V8H2v12c0 1.103.897 2 2 2z"></path></g></svg>
									</button>
								</a>
							</td>
							<td>
								<form method="post" asp-page-handler="DeleteRouteStop" asp-route-routeId="@Model?.Route?.Id" asp-route-stanicaId="@s?.Id" asp-route-Rbr="@s?.Rbr">
									<button class="btn btn-primary" style="background-color:white; width:40px; height:40px; display: flex; align-items: center; justify-content: center;">
										<svg width="40px" height="40px" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill="#000000" d="M352 192V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64H96a32 32 0 0 1 0-64h256zm64 0h192v-64H416v64zM192 960a32 32 0 0 1-32-32V256h704v672a32 32 0 0 1-32 32H192zm224-192a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32zm192 0a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32z"></path></g></svg>
									</button>
								</form>
							</td>
							<td style="text-align:center">@s.Rbr</td>
							<td style="text-align:center">@s.Stop.Name</td>
															
						</tr>
										
					}
				</tbody>

			</table>
		}
				</div>
			</div>
		</div>

		</div>
